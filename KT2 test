echo "# KT2" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/KsuStahanova/KT2.git
git push -u origin main


import csv
import json

def distribute_books(users_file, books_file, result_file):
    # Чтение данных из файла пользователей
    with open(users_file, 'r') as users_csv:
        user_reader = csv.reader(users_csv)
        next(user_reader)  # Пропускаем заголовок
        users = [row[0] for row in user_reader]  # Получаем список имен пользователей
    
    # Чтение данных из файла книг
    with open(books_file, 'r') as books_csv:
        book_reader = csv.reader(books_csv)
        next(book_reader)  # Пропускаем заголовок
        books = [row[0] for row in book_reader]  # Получаем список названий книг

    # Создание результирующей структуры
    result = {
        'users': []
    }
    num_books = len(books)
    num_users = len(users)
    books_per_user = num_books // num_users  # Количество книг на пользователя
    remainder = num_books % num_users  # Остаток книг, добавляемый к последнему пользователю
    
    # Распределение книг максимально поровну
    for i in range(num_users):
        user = {
            'name': users[i],
            'books': []
        }
        
        # Добавление книг пользователю
        num_books_for_user = books_per_user
        if i == num_users - 1:
            num_books_for_user += remainder  # Добавляем остаток к последнему пользователю
        
        user['books'] = books[:num_books_for_user]  # Добавляем нужное количество книг
        books = books[num_books_for_user:]  # Обновляем список книг

        result['users'].append(user)

    # Запись результата в файл
    with open(result_file, 'w') as result_json:
        json.dump(result, result_json)
        
# Вызов функции с передачей имен файлов
distribute_books('users.csv', 'books.csv', 'result.json')
